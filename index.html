<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script type="text/javascript" src="./lib/bundle.js"></script>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <script>
      $l(() => {
        $l('.new-york').on('click', () => $l.ajax({
          method: "GET",
          url:  "http://api.openweathermap.org/data/2.5/weather",
          data: { appid: "d79704c3afb3e9a79778c80a769e671b", q: "new%20york,US" },
          success(data) {
            const weather = JSON.parse(data)
            $l('.data').append(`<li>Forecast: ${weather.weather[0].description}</li>`)
            $l('.data').append(`<li>Humidity: ${weather.main.humidity}</li>`)
            $l('.data').append(`<li>Temperature: ${((weather.main.temp - 273.15) * 1.8 + 32).toFixed(1)} degrees</li>`)
            $l('.data').addClass('weather-box')
            $l('.new-york').off('click')
          }
        }));


      });
    </script>
    <div class="main">
      <h1>DOMpler Weather Radar</h1>
      <div class='new-york'>Get New York Weather</div>
      <ul class='data'>
      </ul>
    </div>
  </body>
</html>
